{"version":3,"sources":["app.js","animateCubeService.js","dateTimeService.js","mainDirective.js","aboutController.js","appointmentController.js","mainController.js","timepickerController.js"],"names":["angular","module","dnnApp","constant","Facets","0","1","2","3","4","5","AnimateCube","config","$routeProvider","when","templateUrl","controller","service","this","keyCode","className","prevClassName","getKeyCode","setKeyCode","kc","getClassName","setClassName","getPrevClassName","datetime","Date","getDateTime","setDateTime","dt","$scope","message","dateTimeService","vm","appointments","appointment","timestamp","title","text","date","loadAppointments","json","localStorage","getItem","data","JSON","parse","createAppointment","moment","unix","time","hours","minutes","seconds","milliseconds","iso","toISOString","console","log","push","sortAppointments","stringify","setItem","resetAppointment","arr","sort","compareDates","a","b","aDate","bDate","deleteAppointment","i","length","splice","clamp","min","max","val","Math","setCube","len","Array","animateCubeService","keyup","$event","$log","hstep","mstep","ismeridian","changed","getRoundedDate","coeff","round","getTime","setTime"],"mappings":"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","file":"../script.js","sourcesContent":["\t// create the module and name it dnnApp\r\n\tangular.module('dnnApp', ['ngRoute', 'ui.bootstrap.timepicker', '720kb.datepicker']);\r\n\tvar dnnApp = angular.module('dnnApp');\r\n\r\n\tdnnApp.constant('Constants', {\r\n\t\tFacets: {\r\n\t\t\t0: 'lateral-0',\r\n\t\t\t1: 'lateral-1',\r\n\t\t\t2: 'lateral-2',\r\n\t\t\t3: 'lateral-3',\r\n\t\t\t4: 'top',\r\n\t\t\t5: 'bottom'\r\n\t\t},\r\n\t\tAnimateCube: {\r\n\t\t\t0: 'show-front',\r\n\t\t\t1: 'show-right',\r\n\t\t\t2: 'show-back',\r\n\t\t\t3: 'show-left',\r\n\t\t\t4: 'show-top',\r\n\t\t\t5: 'show-bottom'\r\n\t\t}\r\n\t});\r\n\t// configure our routes\r\n\tdnnApp.config(function($routeProvider) {\r\n\t\t$routeProvider\r\n\r\n\t\t\t// route for the appointment page\r\n\t\t\t.when('/', {\r\n\t\t\t\ttemplateUrl : 'pages/appointment.html',\r\n\t\t\t\tcontroller  : 'appointmentController'\r\n\t\t\t})\r\n\r\n\r\n\t\t\t// route for the about page\r\n\t\t\t.when('/about', {\r\n\t\t\t\ttemplateUrl : 'pages/about.html',\r\n\t\t\t\tcontroller  : 'aboutController'\r\n\t\t\t})\r\n\r\n\t});","dnnApp.service('animateCubeService', function() {\r\n    this.keyCode = null;\r\n    this.className = \"show-front\";\r\n    this.prevClassName = \"\";\r\n\r\n    this.getKeyCode = function() {\r\n        return this.keyCode;\r\n    };\r\n    this.setKeyCode = function(kc) {\r\n        this.keyCode = kc;\r\n        return this.keyCode;\r\n    };\r\n\r\n    this.getClassName = function() {\r\n        return this.className;\r\n    };\r\n\r\n    this.setClassName = function(kc) {\r\n        this.prevClassName = this.className;\r\n        this.className = kc;\r\n        return this.className;\r\n    };\r\n\r\n    this.getPrevClassName = function() {\r\n        return this.prevClassName;\r\n    };\r\n  });","dnnApp.service('dateTimeService', function() {\r\n    this.datetime = new Date();\r\n    this.getDateTime = function() {\r\n        return this.datetime;\r\n    };\r\n    this.setDateTime = function(dt) {\r\n        this.datetime = dt;\r\n        return this.datetime;\r\n    };\r\n  });","// dnnApp.directive('cubenav', ['animateCubeService', 'Constants', function (animateCubeService, Constants) {\r\n\r\n//   function moveHorizontal(keyCode, element){\r\n//       var dir = (keyCode == 39) ? 1: -1;\r\n//       var index = null;\r\n//       var className = element.classList[1];\r\n//       animateCubeService.setClassName(className);\r\n      \r\n//       for(var i = 0; i < Constants.AnimateCube.length; i++){\r\n//           if (Constants.AnimateCube[i] == className){\r\n//               index = i;\r\n//               break;\r\n//           }\r\n//       }\r\n//     var c = clampLoop(1, 4, (index+dir));\r\n//     element.classList.remove(className);\r\n//     element.classList.add(Constants.AnimateCube[c]);\r\n\r\n//   }\r\n\r\n//   function moveCube(keyCode, element){\r\n//         // In here we have our operations on the element\r\n//         console.log(\"fancy seeing you here\", keyCode);\r\n//         //   console.log(Constants.AnimateCube[1])\r\n//             var current = element[0].querySelector(\"#cube\");\r\n//             if(current.classList.length < 1) return;\r\n\r\n//             var currentShow = current.classList[1];\r\n//             //front right back left facets\r\n//             var isHorizontal = (currentShow === Constants.AnimateCube[0] ||\r\n//                                 currentShow === Constants.AnimateCube[1] ||\r\n//                                 currentShow === Constants.AnimateCube[2] ||\r\n//                                 currentShow === Constants.AnimateCube[3]);\r\n//             //top bottom facets\r\n//             var isVertical =   (currentShow === Constants.AnimateCube[4] ||\r\n//                                 currentShow === Constants.AnimateCube[5]);\r\n//             //left right\r\n//             if (keyCode == 37 || keyCode == 39){\r\n//                 if(isHorizontal){\r\n//                     moveHorizontal(keyCode, current);\r\n//                 }\r\n//             }\r\n//             //top bottom\r\n//             if (keyCode == 38 || keyCode == 40){\r\n\r\n//             }                \r\n\r\n// }\r\n\r\n// // function clamp(min, max, val){\r\n// //     return Math.max(min, Math.min(val, max));\r\n// // }\r\n\r\n// function clampLoop(min, max, val){\r\n//     if (val > max) return min;\r\n//     if (val < min) return max;\r\n//     return val;\r\n// }\r\n\r\n//     return {\r\n//         link: function(scope, element){\r\n//             element.on('load', function(){\r\n//                 // var className = animateCubeService.getClassName();\r\n//                 // var current = element[0].querySelector(\"#cube\");\r\n//                 // current.className = \"cube \" + className;\r\n//             });\r\n//              // Bind to the window resize event for each directive instance.\r\n//              angular.element(element).on('keyup', function(){\r\n//                 //   var keyCode = animateCubeService.getKeyCode();\r\n//                 //   moveCube(keyCode, element);\r\n//              });\r\n//         }\r\n//     };\r\n// }]);\r\n","\tdnnApp.controller('aboutController', function($scope) {\r\n\t\t$scope.message = 'Contact us! JK. This is just a demo.';\r\n\t});","dnnApp.controller('appointmentController', ['$scope', 'dateTimeService', function($scope, dateTimeService) {\r\n  var vm = this;\r\n  vm.appointments = [];\r\n  vm.appointment = {};\r\n  vm.appointment.timestamp = null;\r\n  vm.appointment.title = '';\r\n  vm.appointment.text = ''; \r\n  vm.appointment.date = null; \r\n  $scope.date = new Date();\r\n\r\nvm.loadAppointments = function() {\r\n  var json = localStorage.getItem('appointments');\r\n    if (json == null || json == \"[]\"){\r\n      vm.appointments = [];\r\n      return;\r\n    }\r\n    var data = JSON.parse(json);\r\n    vm.appointments = data;\r\n}();\r\n\r\n// $scope.$on('$viewContentLoaded', function() {\r\n//     console.log(vm.appointments, \"viewContentLoaded\")\r\n// });\r\n\r\n  vm.createAppointment = function() {\r\n    \r\n    vm.appointment.timestamp = moment().unix();\r\n    var date = moment($scope.date);\r\n    var time = dateTimeService.getDateTime();\r\n    time = moment(time);\r\n    var datetime = date;\r\n    datetime.hours(time.hours());\r\n    datetime.minutes(time.minutes());\r\n    datetime.seconds(time.seconds());\r\n    datetime.milliseconds(0);\r\n    var iso = moment(datetime).toISOString();\r\n    vm.appointment.date = iso;\r\n    console.log(vm.appointment, vm.appointments)\r\n    vm.appointments.push({\r\n      timestamp: vm.appointment.timestamp,\r\n      title: vm.appointment.title,\r\n      text: vm.appointment.text,\r\n      date: vm.appointment.date\r\n    });\r\n    vm.sortAppointments();\r\n    var json = JSON.stringify(vm.appointments);\r\n    localStorage.setItem('appointments', json);\r\n    vm.resetAppointment();\r\n}\r\n  \r\n  vm.resetAppointment = function() {\r\n    vm.appointment.timestamp = null;\r\n    vm.appointment.title = '';\r\n    vm.appointment.text = ''; \r\n    vm.appointment.date = null;\r\n    $scope.date = new Date();\r\n  }\r\n\r\n  vm.sortAppointments = function() {\r\n    var arr = vm.appointments;\r\n    arr.sort(vm.compareDates);\r\n    console.log(\"sorted\", arr);\r\n    vm.appointments = arr;\r\n    }\r\n    \r\n    vm.compareDates = function(a, b) {\r\n      aDate = new Date(a.date);\r\n      bDate = new Date(b.date);\r\n      if (aDate < bDate) return -1;\r\n      if (aDate > bDate) return 1;\r\n      return 0;\r\n    }\r\n\r\n  vm.deleteAppointment = function(i) {\r\n    if(!vm.appointments.length) vm.loadAppointments();\r\n    var arr = vm.appointments.splice(i, 1);\r\n    vm.sortAppointments();\r\n    var json = JSON.stringify(vm.appointments);\r\n    localStorage.setItem('appointments', json);\r\n  }\r\n  //TODO: Move these\r\n  vm.clamp = function(min, max, val) {\r\n    return Math.max(min, Math.min(val, max));\r\n  }\r\n  \r\n  vm.setCube = function(len) {\r\n    var i = vm.clamp(0, 3, len-1);\r\n    return new Array(i);\r\n  }\r\n}]);\r\n","// create the controller and inject Angular's $scope\r\ndnnApp.controller('mainController', ['$scope', 'animateCubeService', function($scope, animateCubeService) {\r\n    $scope.keyup = function($event){\r\n        // 38 up, 39 right, 40 down, 37 left\r\n        if( $event.keyCode == 38 ||\r\n            $event.keyCode == 39 ||\r\n            $event.keyCode == 40 ||\r\n            $event.keyCode == 37 ) animateCubeService.setKeyCode($event.keyCode);\r\n    }\r\n}]);\r\n","dnnApp.controller('AptTimepickerController', function ($scope, $log, dateTimeService) {\r\n  \r\n  $scope.hstep = 1;\r\n  $scope.mstep = 15;\r\n  $scope.ismeridian = true;\r\n  $scope.changed = function () {\r\n    $log.log('Time changed to: ' + $scope.time);\r\n  };\r\n\r\n  $scope.getRoundedDate = function(){\r\n    var coeff = 1000 * 60 * 15;\r\n    var date = new Date();  //or use any other date\r\n    return new Date(Math.round(date.getTime() / coeff) * coeff)\r\n  }\r\n  $scope.time = $scope.getRoundedDate();\r\n\r\n  $scope.setTime = function() {\r\n    dateTimeService.setDateTime($scope.time);\r\n  }\r\n});"]}