{"version":3,"sources":["app.js","aboutController.js","appointmentController.js","mainController.js","script.js"],"names":["dnnApp","angular","module","config","$routeProvider","when","templateUrl","controller","$scope","message","vm","this","appointments","appointment","timestamp","title","text","date","Date","time","loadAppointments","json","localStorage","getItem","data","JSON","parse","$on","console","log","createAppointment","moment","unix","datetime","hours","minutes","seconds","milliseconds","iso","toISOString","push","sortAppointments","stringify","setItem","resetAppointment","arr","sort","compareDates","a","b","aDate","bDate","deleteAppointment","i","length","splice","key","$event","keyCode"],"mappings":"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","file":"../script.js","sourcesContent":["\t// create the module and name it dnnApp\n\tvar dnnApp = angular.module('dnnApp', ['ngRoute', 'ui.clockpicker', '720kb.datepicker']);\n\n\t// configure our routes\n\tdnnApp.config(function($routeProvider) {\n\t\t$routeProvider\n\n\t\t\t// route for the appointment page\n\t\t\t.when('/', {\n\t\t\t\ttemplateUrl : 'pages/appointment.html',\n\t\t\t\tcontroller  : 'appointmentController'\n\t\t\t})\n\n\t\t\t// route for the about page\n\t\t\t.when('/about', {\n\t\t\t\ttemplateUrl : 'pages/about.html',\n\t\t\t\tcontroller  : 'aboutController'\n\t\t\t})\n\n\t});","\tdnnApp.controller('aboutController', function($scope) {\n\t\t$scope.message = 'Contact us! JK. This is just a demo.';\n\t});","dnnApp.controller('appointmentController', ['$scope', function($scope) {\n  var vm = this;\n\n  vm.appointments = [];\n  vm.appointment = {};\n  vm.appointment.timestamp = null;\n  vm.appointment.title = '';\n  vm.appointment.text = ''; \n  vm.appointment.date = null; \n  $scope.date = new Date();\n  $scope.time = new Date();\n\nvm.loadAppointments = function() {\n  var json = localStorage.getItem('appointments');\n    if (json == null || json == \"[]\"){\n      vm.appointments = [];\n      return;\n    }\n    var data = JSON.parse(json);\n    vm.appointments = data;\n}();\n\n$scope.$on('$viewContentLoaded', function() {\n    console.log(vm.appointments, \"viewContentLoaded\")\n});\n\n  vm.createAppointment = function() {\n    \n    vm.appointment.timestamp = moment().unix();\n    var date = moment($scope.date);\n    var time = moment($scope.time);\n    var datetime = date;\n    datetime.hours(time.hours());\n    datetime.minutes(time.minutes());\n    datetime.seconds(time.seconds());\n    datetime.milliseconds(0);\n    var iso = moment(datetime).toISOString();\n    vm.appointment.date = iso;\n    console.log(vm.appointment, vm.appointments)\n    vm.appointments.push({\n      timestamp: vm.appointment.timestamp,\n      title: vm.appointment.title,\n      text: vm.appointment.text,\n      date: vm.appointment.date\n    });\n    vm.sortAppointments();\n    var json = JSON.stringify(vm.appointments);\n    localStorage.setItem('appointments', json);\n    vm.resetAppointment();\n}\n  \n  vm.resetAppointment = function() {\n    vm.appointment.timestamp = null;\n    vm.appointment.title = '';\n    vm.appointment.text = ''; \n    vm.appointment.date = null;\n    $scope.date = new Date();\n    $scope.time = new Date();\n  }\n\n  vm.sortAppointments = function() {\n    var arr = vm.appointments;\n    arr.sort(vm.compareDates);\n    console.log(\"sorted\", arr);\n    vm.appointments = arr;\n    }\n    \n    vm.compareDates = function(a, b) {\n      aDate = new Date(a.date);\n      bDate = new Date(b.date);\n      if (aDate < bDate) return -1;\n      if (aDate > bDate) return 1;\n      return 0;\n    }\n\n  vm.deleteAppointment = function(i) {\n    if(!vm.appointments.length) vm.loadAppointments();\n    var arr = vm.appointments.splice(i, 1);\n    vm.sortAppointments();\n    var json = JSON.stringify(vm.appointments);\n    localStorage.setItem('appointments', json);\n  }\n}]);\n","// create the controller and inject Angular's $scope\ndnnApp.controller('mainController', function($scope) {\n    $scope.message = 'Everyone come and see how good I look!';\n    $scope.key = function($event){\n        console.log($event.keyCode);\n        if ($event.keyCode == 38)\n            console.log(\"up arrow\");\n        else if ($event.keyCode == 39)\n            console.log(\"right arrow\");\n        else if ($event.keyCode == 40)\n            console.log(\"down arrow\");\n        else if ($event.keyCode == 37)\n            console.log(\"left arrow\");\n    }\n});","// var XCalendar;\n// (function(){\n// \t callCalendar('calendar');\n// })();\n\n// function callCalendar(idString){\n// \t\t\tvar calElem = document.getElementById(idString);\n// \t\t\tif (calElem.length){\n// \t\t\t\tif(XCalendar == undefined) XCalendar = new dhtmlXCalendarObject([idString]);\n\n// \t\t\t\tXCalendar.show();\n// \t\t\t}\n// }"]}