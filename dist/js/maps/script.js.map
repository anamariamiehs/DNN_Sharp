{"version":3,"sources":["app.js","animateCubeService.js","dateTimeService.js","mainDirective.js","aboutController.js","appointmentController.js","mainController.js","timepickerController.js"],"names":["angular","module","dnnApp","config","$routeProvider","when","templateUrl","controller","service","this","keyCode","getKeyCode","setKeyCode","kc","datetime","Date","getDateTime","setDateTime","dt","directive","animateCubeService","moveCube","console","log","id","link","scope","element","on","$scope","message","dateTimeService","vm","appointments","appointment","timestamp","title","text","date","loadAppointments","json","localStorage","getItem","data","JSON","parse","createAppointment","moment","unix","time","hours","minutes","seconds","milliseconds","iso","toISOString","push","sortAppointments","stringify","setItem","resetAppointment","arr","sort","compareDates","a","b","aDate","bDate","deleteAppointment","i","length","splice","clamp","min","max","val","Math","setCube","len","Array","keyup","$event","$log","hstep","mstep","ismeridian","changed","getRoundedDate","coeff","round","getTime","setTime"],"mappings":"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","file":"../script.js","sourcesContent":["\t// create the module and name it dnnApp\r\n\tangular.module('dnnApp', ['ngRoute', 'ui.bootstrap.timepicker', '720kb.datepicker']);\r\n\tvar dnnApp = angular.module('dnnApp');\r\n\t// configure our routes\r\n\tdnnApp.config(function($routeProvider) {\r\n\t\t$routeProvider\r\n\r\n\t\t\t// route for the appointment page\r\n\t\t\t.when('/', {\r\n\t\t\t\ttemplateUrl : 'pages/appointment.html',\r\n\t\t\t\tcontroller  : 'appointmentController'\r\n\t\t\t})\r\n\r\n\t\t\t// route for the about page\r\n\t\t\t.when('/about', {\r\n\t\t\t\ttemplateUrl : 'pages/about.html',\r\n\t\t\t\tcontroller  : 'aboutController'\r\n\t\t\t})\r\n\r\n\t});","dnnApp.service('animateCubeService', function() {\r\n    this.keyCode = null;\r\n    this.getKeyCode = function() {\r\n        return this.keyCode;\r\n    };\r\n    this.setKeyCode = function(kc) {\r\n        this.keyCode = kc;\r\n        return this.keyCode;\r\n    };\r\n  });","dnnApp.service('dateTimeService', function() {\r\n    this.datetime = new Date();\r\n    this.getDateTime = function() {\r\n        return this.datetime;\r\n    };\r\n    this.setDateTime = function(dt) {\r\n        this.datetime = dt;\r\n        return this.datetime;\r\n    };\r\n  });","dnnApp.directive('cubenav', ['animateCubeService', function (animateCubeService) {\r\n  this.id = \"#cube\";\r\n  function moveCube(keyCode){\r\n            // In here we have our operations on the element\r\n            console.log(\"fancy seeing you here\", keyCode)\r\n    }\r\n\r\n    return {\r\n        link: function(scope, element){\r\n             // Bind to the window resize event for each directive instance.\r\n             angular.element(element).on('keyup', function(){\r\n                  var keyCode = animateCubeService.getKeyCode();\r\n                  moveCube(keyCode);\r\n             });\r\n        }\r\n    };\r\n}]);\r\n\r\n// Control keyup cube behavior\r\n// .show-front \r\n// .show-back  \r\n// .show-right \r\n// .show-left  \r\n// .show-top   \r\n// .show-bottom\r\n\r\n// if ($event.keyCode == 38){\r\n//     animateCubeService.setKeyCode($event.keyCode);\r\n//     console.log(\"up arrow\")\r\n//     }\r\n// else if ($event.keyCode == 39){\r\n//     animateCubeService.setKeyCode($event.keyCode);\r\n//     console.log(\"right arrow\");\r\n// }\r\n// else if ($event.keyCode == 40){\r\n//     animateCubeService.setKeyCode($event.keyCode);\r\n//     console.log(\"down arrow\");\r\n// }\r\n// else if ($event.keyCode == 37){\r\n//     animateCubeService.setKeyCode($event.keyCode);\r\n//     console.log(\"left arrow\");\r\n// }","\tdnnApp.controller('aboutController', function($scope) {\r\n\t\t$scope.message = 'Contact us! JK. This is just a demo.';\r\n\t});","dnnApp.controller('appointmentController', ['$scope', 'dateTimeService', function($scope, dateTimeService) {\r\n  var vm = this;\r\n  vm.appointments = [];\r\n  vm.appointment = {};\r\n  vm.appointment.timestamp = null;\r\n  vm.appointment.title = '';\r\n  vm.appointment.text = ''; \r\n  vm.appointment.date = null; \r\n  $scope.date = new Date();\r\n\r\nvm.loadAppointments = function() {\r\n  var json = localStorage.getItem('appointments');\r\n    if (json == null || json == \"[]\"){\r\n      vm.appointments = [];\r\n      return;\r\n    }\r\n    var data = JSON.parse(json);\r\n    vm.appointments = data;\r\n}();\r\n\r\n// $scope.$on('$viewContentLoaded', function() {\r\n//     console.log(vm.appointments, \"viewContentLoaded\")\r\n// });\r\n\r\n  vm.createAppointment = function() {\r\n    \r\n    vm.appointment.timestamp = moment().unix();\r\n    var date = moment($scope.date);\r\n    var time = dateTimeService.getDateTime();\r\n    time = moment(time);\r\n    var datetime = date;\r\n    datetime.hours(time.hours());\r\n    datetime.minutes(time.minutes());\r\n    datetime.seconds(time.seconds());\r\n    datetime.milliseconds(0);\r\n    var iso = moment(datetime).toISOString();\r\n    vm.appointment.date = iso;\r\n    console.log(vm.appointment, vm.appointments)\r\n    vm.appointments.push({\r\n      timestamp: vm.appointment.timestamp,\r\n      title: vm.appointment.title,\r\n      text: vm.appointment.text,\r\n      date: vm.appointment.date\r\n    });\r\n    vm.sortAppointments();\r\n    var json = JSON.stringify(vm.appointments);\r\n    localStorage.setItem('appointments', json);\r\n    vm.resetAppointment();\r\n}\r\n  \r\n  vm.resetAppointment = function() {\r\n    vm.appointment.timestamp = null;\r\n    vm.appointment.title = '';\r\n    vm.appointment.text = ''; \r\n    vm.appointment.date = null;\r\n    $scope.date = new Date();\r\n  }\r\n\r\n  vm.sortAppointments = function() {\r\n    var arr = vm.appointments;\r\n    arr.sort(vm.compareDates);\r\n    console.log(\"sorted\", arr);\r\n    vm.appointments = arr;\r\n    }\r\n    \r\n    vm.compareDates = function(a, b) {\r\n      aDate = new Date(a.date);\r\n      bDate = new Date(b.date);\r\n      if (aDate < bDate) return -1;\r\n      if (aDate > bDate) return 1;\r\n      return 0;\r\n    }\r\n\r\n  vm.deleteAppointment = function(i) {\r\n    if(!vm.appointments.length) vm.loadAppointments();\r\n    var arr = vm.appointments.splice(i, 1);\r\n    vm.sortAppointments();\r\n    var json = JSON.stringify(vm.appointments);\r\n    localStorage.setItem('appointments', json);\r\n  }\r\n\r\n  vm.clamp = function(min, max, val) {\r\n    return Math.max(min, Math.min(val, max));\r\n  }\r\n  \r\n  vm.setCube = function(len) {\r\n    var i = vm.clamp(0, 3, len-1);\r\n    return new Array(i);\r\n  }\r\n}]);\r\n","// create the controller and inject Angular's $scope\r\ndnnApp.controller('mainController', ['$scope', 'animateCubeService', function($scope, animateCubeService) {\r\n    $scope.keyup = function($event){\r\n        // 38 up, 39 right, 40 down, 37 left\r\n        if( $event.keyCode == 38 ||\r\n            $event.keyCode == 39 ||\r\n            $event.keyCode == 40 ||\r\n            $event.keyCode == 37 ) animateCubeService.setKeyCode($event.keyCode);\r\n    }\r\n}]);","dnnApp.controller('AptTimepickerController', function ($scope, $log, dateTimeService) {\r\n  \r\n  $scope.hstep = 1;\r\n  $scope.mstep = 15;\r\n  $scope.ismeridian = true;\r\n  $scope.changed = function () {\r\n    $log.log('Time changed to: ' + $scope.time);\r\n  };\r\n\r\n  $scope.getRoundedDate = function(){\r\n    var coeff = 1000 * 60 * 15;\r\n    var date = new Date();  //or use any other date\r\n    return new Date(Math.round(date.getTime() / coeff) * coeff)\r\n  }\r\n  $scope.time = $scope.getRoundedDate();\r\n\r\n  $scope.setTime = function() {\r\n    dateTimeService.setDateTime($scope.time);\r\n  }\r\n});"]}