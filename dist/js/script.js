var dnnApp=angular.module("dnnApp",["ngRoute","ui.clockpicker","720kb.datepicker"]);dnnApp.config(function($routeProvider){$routeProvider.when("/",{templateUrl:"pages/appointment.html",controller:"appointmentController"}).when("/about",{templateUrl:"pages/about.html",controller:"aboutController"})});
dnnApp.controller("aboutController",function($scope){$scope.message="Contact us! JK. This is just a demo."});
dnnApp.controller("appointmentController",["$scope",function($scope){var vm=this;vm.appointments=[],vm.appointment={},vm.appointment.timestamp=null,vm.appointment.title="",vm.appointment.text="",vm.appointment.date=null,$scope.date=new Date,$scope.time=new Date,vm.loadAppointments=function(){var json=localStorage.getItem("appointments");if(null==json||"[]"==json)return void(vm.appointments=[]);var data=JSON.parse(json);vm.appointments=data}(),$scope.$on("$viewContentLoaded",function(){console.log(vm.appointments,"viewContentLoaded")}),vm.createAppointment=function(){vm.appointment.timestamp=moment().unix();var date=moment($scope.date),time=moment($scope.time),datetime=date;datetime.hours(time.hours()),datetime.minutes(time.minutes()),datetime.seconds(time.seconds()),datetime.milliseconds(0);var iso=moment(datetime).toISOString();vm.appointment.date=iso,console.log(vm.appointment,vm.appointments),vm.appointments.push({timestamp:vm.appointment.timestamp,title:vm.appointment.title,text:vm.appointment.text,date:vm.appointment.date}),vm.sortAppointments();var json=JSON.stringify(vm.appointments);localStorage.setItem("appointments",json),vm.resetAppointment()},vm.resetAppointment=function(){vm.appointment.timestamp=null,vm.appointment.title="",vm.appointment.text="",vm.appointment.date=null,$scope.date=new Date,$scope.time=new Date},vm.sortAppointments=function(){var arr=vm.appointments;arr.sort(vm.compareDates),console.log("sorted",arr),vm.appointments=arr},vm.compareDates=function(a,b){return aDate=new Date(a.date),bDate=new Date(b.date),aDate<bDate?-1:aDate>bDate?1:0},vm.deleteAppointment=function(i){vm.appointments.length||vm.loadAppointments();vm.appointments.splice(i,1);vm.sortAppointments();var json=JSON.stringify(vm.appointments);localStorage.setItem("appointments",json)}}]);
dnnApp.controller("mainController",function($scope){$scope.message="Everyone come and see how good I look!",$scope.key=function($event){console.log($event.keyCode),38==$event.keyCode?console.log("up arrow"):39==$event.keyCode?console.log("right arrow"):40==$event.keyCode?console.log("down arrow"):37==$event.keyCode&&console.log("left arrow")}});

//# sourceMappingURL=maps/script.js.map
